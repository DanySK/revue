<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-report/devops" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">DevOps | Revue</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://revue-org.github.io/revue/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://revue-org.github.io/revue/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://revue-org.github.io/revue/docs/report/devops"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="DevOps | Revue"><meta data-rh="true" name="description" content="Build automation"><meta data-rh="true" property="og:description" content="Build automation"><link data-rh="true" rel="icon" href="/revue/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://revue-org.github.io/revue/docs/report/devops"><link data-rh="true" rel="alternate" href="https://revue-org.github.io/revue/docs/report/devops" hreflang="en"><link data-rh="true" rel="alternate" href="https://revue-org.github.io/revue/docs/report/devops" hreflang="x-default"><link rel="stylesheet" href="/revue/assets/css/styles.87eb4ffa.css">
<script src="/revue/assets/js/runtime~main.f6b7fe1b.js" defer="defer"></script>
<script src="/revue/assets/js/main.f8014b9a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/revue/"><div class="navbar__logo"><img src="/revue/img/logo.svg" alt="Revue Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/revue/img/logo.svg" alt="Revue Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Revue</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/revue/docs/category/report">Report</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/revue-org/revue" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/revue/docs/category/report">Report</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/revue/docs/report/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/revue/docs/category/analysis">Analysis</a><button aria-label="Expand sidebar category &#x27;Analysis&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/revue/docs/category/domain-driven-design">(Domain-Driven) Design</a><button aria-label="Expand sidebar category &#x27;(Domain-Driven) Design&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/revue/docs/category/implementation">Implementation</a><button aria-label="Expand sidebar category &#x27;Implementation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/revue/docs/report/devops">DevOps</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/revue/docs/category/deployment">Deployment</a><button aria-label="Expand sidebar category &#x27;Deployment&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/revue/docs/report/testing">Self-assessment / Validation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/revue/docs/report/conclusions">Conclusions</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/revue/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/revue/docs/category/report"><span itemprop="name">Report</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">DevOps</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>DevOps</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="build-automation">Build automation<a href="#build-automation" class="hash-link" aria-label="Direct link to Build automation" title="Direct link to Build automation">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="npm-gradle-plugin">NPM gradle plugin<a href="#npm-gradle-plugin" class="hash-link" aria-label="Direct link to NPM gradle plugin" title="Direct link to NPM gradle plugin">​</a></h3>
<p>We use this gradle <a href="https://github.com/kelvindev15/npm-gradle-plugin" target="_blank" rel="noopener noreferrer">plugin</a> as an empowerment of the <em>Node package
manager</em>.
This enabled us to manage npm projects via Gradle and thus leveraging some of this latter build tool features.
The plugin is configured
via its <code>packageJson</code> extension in which you can specify some of the most common <em>package.json</em> properties that include
<strong>dependencies</strong>, <strong>devDependencies</strong> and <strong>scripts</strong>.</p>
<details style="cursor:pointer;background-color:#e6eff5;padding:25px;border-radius:25px;border:1px solid #9dd2f5;margin-top:25px;margin-bottom:25px"><summary style="font-weight:bold">Example of usage</summary><p style="margin-top:25px"></p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">packageJson </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    packageJson </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        author </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;Developer&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;test-package&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;1.0.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        description </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;This is just a test package&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        main </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;index.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        license </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;MIT&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        scripts </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">script</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;script1&quot;</span><span class="token plain"> runs </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;echo script1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">script</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;script2&quot;</span><span class="token plain"> runs </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;echo script2&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">script</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;dependantScript&quot;</span><span class="token plain"> runs </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;echo dependantScript&quot;</span><span class="token plain"> dependingOn </span><span class="token function" style="color:#d73a49">listOf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">npmScript</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;script2&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dependencies </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;express&quot;</span><span class="token plain"> version </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;^4.17.1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        devDependencies </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;nodemon&quot;</span><span class="token plain"> version </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;^2.0.7&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        repository </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;git&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;https://github.com/kelvindev15/npm-gradle-plugin&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        homepage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;page.github.io&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p></p></details>
<p>The plugin provides some tasks to work with npm.
For each declared <em>script</em> a correspondent <code>npmScript</code> is created.
It gives the possibility to declare dependencies among scripts and tasks.
It also gives the possibility to declare script <strong>inputs</strong> and
<strong>outputs</strong> for task execution optimization.
All the above are features that are available in Gradle and not npm.</p>
<p>The previous example will generate the following task graph:</p>
<!-- -->
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dependencies-management">Dependencies management<a href="#dependencies-management" class="hash-link" aria-label="Direct link to Dependencies management" title="Direct link to Dependencies management">​</a></h3>
<p>We used <a href="https://docs.renovatebot.com/" target="_blank" rel="noopener noreferrer">Renovate</a> to keep all dependencies automatically up to date.
Since for most of the subprojects we are using the <code>npm-gradle-plugin</code> we had to define a custom manager:</p>
<details style="cursor:pointer;background-color:#e6eff5;padding:25px;border-radius:25px;border:1px solid #9dd2f5;margin-top:25px;margin-bottom:25px"><summary style="font-weight:bold">Renovate custom manager</summary><p style="margin-top:25px"></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;customManagers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;datasourceTemplate&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;npm&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;customType&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;regex&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;fileMatch&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;(^|\\/).*\\.gradle\\.kts$&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;matchStrings&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;(?:\&quot;(?&lt;packageName&gt;[^\\s\&quot;]+)\&quot;\\s*version\\s*\&quot;(?&lt;currentValue&gt;.+)\&quot;)&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;(?:\&quot;(?&lt;packageName&gt;[^\\s\&quot;]+)\&quot;\\s*[.]\\s*version\\s*\\(\\s*\&quot;(?&lt;currentValue&gt;.+)\&quot;\\s*\\))&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p></p></details>
<p>In this way we instructed Renovate to look for <strong>npm</strong> dependencies in the <code>gradle.kts</code> files and update them
accordingly.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="version-control">Version control<a href="#version-control" class="hash-link" aria-label="Direct link to Version control" title="Direct link to Version control">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dvcs-workflow">DVCS workflow<a href="#dvcs-workflow" class="hash-link" aria-label="Direct link to DVCS workflow" title="Direct link to DVCS workflow">​</a></h3>
<p>We chose to maintain a single stable branch, the <code>main</code> branch. It contains the working code.
Changes are made in dedicated branches (<em>feature/name</em>, <em>fix/name</em>, <em>chore/what</em>, etc.) and then merged into the <code>main</code>
branch via pull requests. The pull requests are reviewed and approved by at least one other developer before being
merged. Releases are made on the <code>main</code> branch.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conventional-commits">Conventional commits<a href="#conventional-commits" class="hash-link" aria-label="Direct link to Conventional commits" title="Direct link to Conventional commits">​</a></h3>
<p>We use <a href="https://www.conventionalcommits.org/en/v1.0.0/" target="_blank" rel="noopener noreferrer">Conventional Commits</a> to ensure that the commit messages are
consistent and informative.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="semantic-versioning-and-release">Semantic versioning and release<a href="#semantic-versioning-and-release" class="hash-link" aria-label="Direct link to Semantic versioning and release" title="Direct link to Semantic versioning and release">​</a></h3>
<p>We use <a href="https://semver.org/" target="_blank" rel="noopener noreferrer">Semantic Versioning</a> to version the software.
The version number is computed automatically by the CI/CD pipeline.
In particular, we use
the <a href="https://github.com/semantic-release/semantic-release" target="_blank" rel="noopener noreferrer">Semantic Release</a> plugin to automate the release process. The
plugin looks at the (conventional) commit messages and determines the next version of the software based on the changes
introduced in the codebase.
It also generates a changelog and creates a new release on GitHub.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quality-assurance">Quality Assurance<a href="#quality-assurance" class="hash-link" aria-label="Direct link to Quality Assurance" title="Direct link to Quality Assurance">​</a></h2>
<p>The following tools are run over the codebase on every CI workflow:</p>
<ul>
<li><a href="https://prettier.io/" target="_blank" rel="noopener noreferrer"><strong>Prettier</strong></a>: a code formatter with support for many languages.</li>
<li><a href="https://eslint.org/" target="_blank" rel="noopener noreferrer"><strong>ESLint</strong></a>: a static code analysis tool for identifying problematic patterns found in
JavaScript code.</li>
<li><a href="https://www.codefactor.io/" target="_blank" rel="noopener noreferrer"><strong>Codefactor</strong></a>: a tool that automatically reviews code style, security, duplication,
complexity, and coverage on every pull request.</li>
<li><a href="https://www.sonarsource.com/products/sonarcloud/" target="_blank" rel="noopener noreferrer"><strong>SonarCloud</strong></a>: a cloud-based code quality and security service
that finds bugs and vulnerabilities in your code.</li>
<li><a href="https://www.codacy.com/" target="_blank" rel="noopener noreferrer"><strong>Codacy</strong></a>: an automated code review tool that helps developers to save time in code
reviews and to tackle technical debt efficiently.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="continuous-integration-and-delivery">Continuous Integration and Delivery<a href="#continuous-integration-and-delivery" class="hash-link" aria-label="Direct link to Continuous Integration and Delivery" title="Direct link to Continuous Integration and Delivery">​</a></h2>
<p>To ensure that whenever some changes are pushed to the repository the project is in a stable state, and
possibly release a new version of the software, we designed a CI/CD pipeline that runs on each push to the repository.
To achieve this goal, we make use of GitHub Actions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-cicd-pipeline">The CI/CD pipeline<a href="#the-cicd-pipeline" class="hash-link" aria-label="Direct link to The CI/CD pipeline" title="Direct link to The CI/CD pipeline">​</a></h3>
<p>Here&#x27;s the list of jobs that constitute
the <a href="https://github.com/revue-org/revue/blob/main/.github/workflows/CI-CD.yml" target="_blank" rel="noopener noreferrer">CI/CD pipeline</a>:</p>
<ul>
<li><code>build</code>: This job is responsible for building the project. After that, it runs the automated tests.
This job runs on: <code>Linux</code>, <code>Windows</code> and <code>macOS</code>.</li>
<li><code>style</code>: This job is responsible for analyzing the code style and formatting making use of linters and formatters.</li>
<li><code>build_website</code>: Generates the documentation website. It serves as a way to ensure that on the next release the
website can be correctly generated without errors. To avoid building the website more than once (in case of a release),
the website artifact is uploaded and stored available for any future needs.</li>
<li><code>compute_next_version</code>: This job is responsible for computing the next version of the project. It will be used later
in release jobs.</li>
<li><code>release</code>: Looks at commits messages and determines if a <a href="https://github.com/revue-org/revue/releases" target="_blank" rel="noopener noreferrer">release</a> should
be triggered and in case tags the actual state of the repository with the new version number.</li>
<li><code>deploy_website</code>: Downloads the previously built website artifact and deploys it to
the <a href="https://revue-org.github.io/revue/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>.</li>
<li><code>docker</code>: If a release is triggered, builds the Docker image for all microservices and pushes them to
the <a href="https://hub.docker.com/u/letsdothisshared" target="_blank" rel="noopener noreferrer">Docker Hub</a>.</li>
</ul>
<!-- -->
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mergify">Mergify<a href="#mergify" class="hash-link" aria-label="Direct link to Mergify" title="Direct link to Mergify">​</a></h4>
<p>We use <a href="https://mergify.io/" target="_blank" rel="noopener noreferrer">Mergify</a> to automatically merge pull requests when all the checks are passed.
We also exploit the following features:</p>
<ul>
<li><strong>Merge queue</strong>: Mergify will stack new PRs in a queue and merge them all if all status checks pass.</li>
<li><strong>Branch protection</strong>: Mergify provides a GitHub status check that will fail if any of the defined rules and conditions are
not met.</li>
<li><strong>Automatic rebasing</strong>: Mergify will automatically rebase the pull requests when the base branch is updated.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="license">License<a href="#license" class="hash-link" aria-label="Direct link to License" title="Direct link to License">​</a></h2>
<p>The project is licensed under the <a href="https://mit-license.org/" target="_blank" rel="noopener noreferrer">MIT License</a> because of its permissive nature and the fact
that it is compatible with most open source licenses.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/revue/docs/report/implementation/web-of-thing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Web of Things</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/revue/docs/category/deployment"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deployment</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#build-automation" class="table-of-contents__link toc-highlight">Build automation</a><ul><li><a href="#npm-gradle-plugin" class="table-of-contents__link toc-highlight">NPM gradle plugin</a></li><li><a href="#dependencies-management" class="table-of-contents__link toc-highlight">Dependencies management</a></li></ul></li><li><a href="#version-control" class="table-of-contents__link toc-highlight">Version control</a><ul><li><a href="#dvcs-workflow" class="table-of-contents__link toc-highlight">DVCS workflow</a></li><li><a href="#conventional-commits" class="table-of-contents__link toc-highlight">Conventional commits</a></li><li><a href="#semantic-versioning-and-release" class="table-of-contents__link toc-highlight">Semantic versioning and release</a></li></ul></li><li><a href="#quality-assurance" class="table-of-contents__link toc-highlight">Quality Assurance</a></li><li><a href="#continuous-integration-and-delivery" class="table-of-contents__link toc-highlight">Continuous Integration and Delivery</a><ul><li><a href="#the-cicd-pipeline" class="table-of-contents__link toc-highlight">The CI/CD pipeline</a></li></ul></li><li><a href="#license" class="table-of-contents__link toc-highlight">License</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/revue/docs/intro">Report</a></li><li class="footer__item"><a class="footer__link-item" href="/revue/openapi">OpenAPI</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/revue-org/revue" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Revue. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>