<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-report/design/architecture/microservices" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Microservices | Revue</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://revue-org.github.io/revue/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://revue-org.github.io/revue/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://revue-org.github.io/revue/docs/report/design/architecture/microservices"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Microservices | Revue"><meta data-rh="true" name="description" content="Decomposition Strategy"><meta data-rh="true" property="og:description" content="Decomposition Strategy"><link data-rh="true" rel="icon" href="/revue/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://revue-org.github.io/revue/docs/report/design/architecture/microservices"><link data-rh="true" rel="alternate" href="https://revue-org.github.io/revue/docs/report/design/architecture/microservices" hreflang="en"><link data-rh="true" rel="alternate" href="https://revue-org.github.io/revue/docs/report/design/architecture/microservices" hreflang="x-default"><link rel="stylesheet" href="/revue/assets/css/styles.87eb4ffa.css">
<script src="/revue/assets/js/runtime~main.55a46a94.js" defer="defer"></script>
<script src="/revue/assets/js/main.7d1e1deb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/revue/"><div class="navbar__logo"><img src="/revue/img/logo.svg" alt="Revue Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/revue/img/logo.svg" alt="Revue Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Revue</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/revue/docs/category/report">Report</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/revue-org/revue" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/revue/docs/category/report">Report</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/revue/docs/report/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/revue/docs/category/analysis">Analysis</a><button aria-label="Expand sidebar category &#x27;Analysis&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/revue/docs/category/domain-driven-design">(Domain-Driven) Design</a><button aria-label="Collapse sidebar category &#x27;(Domain-Driven) Design&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/revue/docs/report/design/event-storming">Event Storming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/revue/docs/report/design/bounded-contexts">Bounded Contexts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/revue/docs/category/architecture">Architecture</a><button aria-label="Collapse sidebar category &#x27;Architecture&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/revue/docs/report/design/architecture/documentation">Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/revue/docs/report/design/architecture/microservices">Microservices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/revue/docs/report/design/architecture/patterns">Microservices patterns</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/revue/docs/report/design/detailed-design">Detailed Design</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/revue/docs/category/implementation">Implementation</a><button aria-label="Expand sidebar category &#x27;Implementation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/revue/docs/report/devops">DevOps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/revue/docs/report/testing">Self-assessment / Validation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/revue/docs/category/deployment">Deployment</a><button aria-label="Expand sidebar category &#x27;Deployment&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/revue/docs/report/conclusions">Conclusions</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/revue/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/revue/docs/category/report"><span itemprop="name">Report</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/revue/docs/category/domain-driven-design"><span itemprop="name">(Domain-Driven) Design</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/revue/docs/category/architecture"><span itemprop="name">Architecture</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Microservices</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Microservices</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="decomposition-strategy">Decomposition Strategy<a href="#decomposition-strategy" class="hash-link" aria-label="Direct link to Decomposition Strategy" title="Direct link to Decomposition Strategy">​</a></h2>
<p>The system is decomposed into microservices using the <strong>bounded context</strong> decomposition strategy.
Other relevant characteristics that have been taken into account are:</p>
<ul>
<li><strong>Scalability</strong>: Each microservice can be scaled independently.</li>
<li><strong>Technology</strong>: Each microservice can be implemented using different technologies.</li>
<li><strong>Modularity</strong>: Each microservice can be developed, deployed, and maintained independently.</li>
<li><strong>Maintainability</strong>: Each microservice can be updated independently without affecting the entire system.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-design">API Design<a href="#api-design" class="hash-link" aria-label="Direct link to API Design" title="Direct link to API Design">​</a></h2>
<p>Starting from the use cases, we defined the APIs for each microservice.
The APIs are defined using the OpenAPI Specification.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="auth-service">Auth service<a href="#auth-service" class="hash-link" aria-label="Direct link to Auth service" title="Direct link to Auth service">​</a></h3>
<p>This microservice is responsible for authentication and authorization. It is responsible for managing user accounts,
roles, and permissions. It is also responsible for generating JWT tokens for accessing other services in the system.</p>
<details style="cursor:pointer;background-color:#e6eff5;padding:25px;border-radius:25px;border:1px solid #9dd2f5;margin-top:25px;margin-bottom:25px"><summary style="font-weight:bold">Feature: Authentication</summary><p style="margin-top:25px"></p><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Feature: Authentication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: User login</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I have a valid username and password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I login</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then I should receive a JWT token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: User logout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I logout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then I should no longer have access to the system</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p></p></details>
<p><a href="https://revue-org.github.io/revue/openapi/auth/" target="_blank" rel="noopener noreferrer">OpenAPI Specification</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alarm-service">Alarm service<a href="#alarm-service" class="hash-link" aria-label="Direct link to Alarm service" title="Direct link to Alarm service">​</a></h3>
<p>This microservice is responsible for analyzing the data coming from sensors and cameras and consequently notifying
anomalies.
To recognize anomalies, some rule must be defined.
The main operations of this service are those to manage the <em>security rules</em>.</p>
<details style="cursor:pointer;background-color:#e6eff5;padding:25px;border-radius:25px;border:1px solid #9dd2f5;margin-top:25px;margin-bottom:25px"><summary style="font-weight:bold">Feature: Security Rule Management</summary><p style="margin-top:25px"></p><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Feature: Security Rule Management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Create a security rule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as a Guardian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I create a security rule in the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then the alarm service should check the security rule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    And trigger an alarm if the conditions are satisfied</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Update a security rule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as a Guardian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I update a security rule in the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then the alarm service should check the updated security rule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    And trigger an alarm if the new conditions are satisfied</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Delete a security rule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as a Guardian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I delete a security rule from the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then the alarm service should no longer check the deleted security rule</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p></p></details>
<p><a href="https://revue-org.github.io/revue/openapi/alarm/" target="_blank" rel="noopener noreferrer">OpenAPI Specification</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-service">User service<a href="#user-service" class="hash-link" aria-label="Direct link to User service" title="Direct link to User service">​</a></h3>
<p>This microservice is responsible for managing user data.</p>
<details style="cursor:pointer;background-color:#e6eff5;padding:25px;border-radius:25px;border:1px solid #9dd2f5;margin-top:25px;margin-bottom:25px"><summary style="font-weight:bold">Feature: User Management</summary><p style="margin-top:25px"></p><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Feature: User Management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Create a new user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as an Admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I create a new user in the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then the user should be able to access and consult the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Modify user contact information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as an Admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I update the contact information for a user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then the user’s contact information should be updated in the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Delete a user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as an Admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I delete a user from the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then the user should be removed from the system</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p></p></details>
<p><a href="https://revue-org.github.io/revue/openapi/user/" target="_blank" rel="noopener noreferrer">OpenAPI Specification</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="location-service">Location service<a href="#location-service" class="hash-link" aria-label="Direct link to Location service" title="Direct link to Location service">​</a></h3>
<p>Devices can be located in different locations.
The system provides the possibility to manage rooms and buildings.</p>
<details style="cursor:pointer;background-color:#e6eff5;padding:25px;border-radius:25px;border:1px solid #9dd2f5;margin-top:25px;margin-bottom:25px"><summary style="font-weight:bold">Feature: Location Management</summary><p style="margin-top:25px"></p><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Feature: Location Management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Create a new location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as an Admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I create a new location in the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then the location should be created in the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    And I should be able to assign Guardians to it</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Delete a location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as an Admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I delete a location from the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then the location should be removed from the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    And Guardians should no longer have access to it</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p></p></details>
<p><a href="https://revue-org.github.io/revue/openapi/location/" target="_blank" rel="noopener noreferrer">OpenAPI Specification</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="device-service">Device service<a href="#device-service" class="hash-link" aria-label="Direct link to Device service" title="Direct link to Device service">​</a></h3>
<p>This microservice is responsible for managing devices. It can federate a device, modify their description, enable or
disable, and delete them.</p>
<details style="cursor:pointer;background-color:#e6eff5;padding:25px;border-radius:25px;border:1px solid #9dd2f5;margin-top:25px;margin-bottom:25px"><summary style="font-weight:bold">Feature: Device Management</summary><p style="margin-top:25px"></p><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Feature: Device Management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Federate a device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as a Guardian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I federate a device in the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then the device should be federated in the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    And I should be able to consult the device information and access its real-time data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Modify device description</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as a Guardian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I update the description of a device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then the device description should be updated in the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Enable or disable a device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as a Guardian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I enable or disable a device in the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then the device should be enabled or disabled in the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    And the device should start or stop producing real-time data accordingly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Delete a device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as a Guardian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I delete a device from the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then the device should be removed from the system</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p></p></details>
<p><a href="https://revue-org.github.io/revue/openapi/device/" target="_blank" rel="noopener noreferrer">OpenAPI Specification</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="recognition-service">Recognition service<a href="#recognition-service" class="hash-link" aria-label="Direct link to Recognition service" title="Direct link to Recognition service">​</a></h3>
<p>This microservice provides the capability to recognize people and objects in video streams.
It then sends the recognized data to the alarm service.</p>
<p>This service has no public API.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring-service">Monitoring service<a href="#monitoring-service" class="hash-link" aria-label="Direct link to Monitoring service" title="Direct link to Monitoring service">​</a></h3>
<p>This microservice is the main service that enables the user to monitor the system.</p>
<details style="cursor:pointer;background-color:#e6eff5;padding:25px;border-radius:25px;border:1px solid #9dd2f5;margin-top:25px;margin-bottom:25px"><summary style="font-weight:bold">Feature: Real-time Data and Video Streaming Consultation</summary><p style="margin-top:25px"></p><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Feature: Real-time Data and Video Streaming Consultation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Consult real-time environment data from a specific device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as a Guardian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I consult the real-time environment data produced by a device with sensing capabilities</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then I should be able to see the data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    And I should be able to choose the desired monitoring measure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    And I should be able to consult the measurement value and unit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Consult video streaming from a specific device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as a Guardian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I consult the video streaming produced by a device with video streaming capabilities</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then I should be able to see the video streaming produced by the device</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p></p></details>
<p><a href="https://revue-org.github.io/revue/openapi/monitoring/" target="_blank" rel="noopener noreferrer">OpenAPI Specification</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="notification-service">Notification service<a href="#notification-service" class="hash-link" aria-label="Direct link to Notification service" title="Direct link to Notification service">​</a></h3>
<p>This microservice is responsible for delivering notifications to the user.</p>
<details style="cursor:pointer;background-color:#e6eff5;padding:25px;border-radius:25px;border:1px solid #9dd2f5;margin-top:25px;margin-bottom:25px"><summary style="font-weight:bold">Feature: Notification Management</summary><p style="margin-top:25px"></p><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Feature: Notification Management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Consult system notifications</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as a Guardian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I consult the notifications sent by the system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then I should be able to see the notification type, the date, and other notification properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Receive real-time notifications when an alarm is triggered</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given a security rule is broken</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When an alarm is triggered</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then I should receive real-time notifications through the specified contacts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    And I should be able to see and consult the notification in real-time</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p></p></details>
<p><a href="https://revue-org.github.io/revue/openapi/notification/" target="_blank" rel="noopener noreferrer">OpenAPI Specification</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="log-service">Log service<a href="#log-service" class="hash-link" aria-label="Direct link to Log service" title="Direct link to Log service">​</a></h3>
<p>This microservice is responsible for logging system events.</p>
<details style="cursor:pointer;background-color:#e6eff5;padding:25px;border-radius:25px;border:1px solid #9dd2f5;margin-top:25px;margin-bottom:25px"><summary style="font-weight:bold">Feature: Data and Alarm History Consultation</summary><p style="margin-top:25px"></p><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Feature: Data and Alarm History Consultation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Scenario: Consult the history of produced data and triggered alarms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Given I am logged in as a Guardian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    When I consult the history of produced data and triggered alarms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Then I should be able to see the history of data and alarms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    And I should be able to take appropriate actions based on the history</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p></p></details>
<p><a href="https://revue-org.github.io/revue/openapi/log/" target="_blank" rel="noopener noreferrer">OpenAPI Specification</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="clean-architecture">Clean Architecture<a href="#clean-architecture" class="hash-link" aria-label="Direct link to Clean Architecture" title="Direct link to Clean Architecture">​</a></h2>
<p><img decoding="async" loading="lazy" alt="Clean Architecture" src="/revue/assets/images/clean_architecture-14258cafb9bcd596d75db2874fdd45eb.png" width="3268" height="2006" class="img_ev3q"></p>
<p>The design of all relevant microservices follows the <strong>Clean Architecture</strong> pattern. This helped us
in maintaining a core domain design that abstracts away from all technical issues. As showed in the
picture above, we made use of the following layers:</p>
<ul>
<li><strong>Domain</strong>: DDD entities, value objects, factories, ...</li>
<li><strong>Application</strong>: DDD services, repositories, ...</li>
<li><strong>Presentation</strong>: Machinery to translate external data representation to domain entities and vice versa.</li>
<li><strong>Infrastructure</strong>: Mostly external service implementation, DB interfaces, REST APIs, Events managers, ...</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Module view" src="/revue/assets/images/clean_architecture_modules-56b8ae04f38082e7b9cfe398c4f8e02b.png" width="622" height="652" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/revue/docs/report/design/architecture/documentation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Documentation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/revue/docs/report/design/architecture/patterns"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Microservices patterns</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#decomposition-strategy" class="table-of-contents__link toc-highlight">Decomposition Strategy</a></li><li><a href="#api-design" class="table-of-contents__link toc-highlight">API Design</a><ul><li><a href="#auth-service" class="table-of-contents__link toc-highlight">Auth service</a></li><li><a href="#alarm-service" class="table-of-contents__link toc-highlight">Alarm service</a></li><li><a href="#user-service" class="table-of-contents__link toc-highlight">User service</a></li><li><a href="#location-service" class="table-of-contents__link toc-highlight">Location service</a></li><li><a href="#device-service" class="table-of-contents__link toc-highlight">Device service</a></li><li><a href="#recognition-service" class="table-of-contents__link toc-highlight">Recognition service</a></li><li><a href="#monitoring-service" class="table-of-contents__link toc-highlight">Monitoring service</a></li><li><a href="#notification-service" class="table-of-contents__link toc-highlight">Notification service</a></li><li><a href="#log-service" class="table-of-contents__link toc-highlight">Log service</a></li></ul></li><li><a href="#clean-architecture" class="table-of-contents__link toc-highlight">Clean Architecture</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/revue/docs/intro">Report</a></li><li class="footer__item"><a class="footer__link-item" href="/revue/openapi">OpenAPI</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/revue-org/revue" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Revue. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>