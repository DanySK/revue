"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[8131],{7384:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>h});var i=n(4848),r=n(8453);const s={title:"Microservices patterns",position:3},o="Microservices patterns",a={id:"report/design/architecture/patterns",title:"Microservices patterns",description:"Communication patterns",source:"@site/docs/report/design/architecture/patterns.md",sourceDirName:"report/design/architecture",slug:"/report/design/architecture/patterns",permalink:"/revue/docs/report/design/architecture/patterns",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Microservices patterns",position:3},sidebar:"tutorialSidebar",previous:{title:"Microservices",permalink:"/revue/docs/report/design/architecture/microservices"},next:{title:"Detailed Design",permalink:"/revue/docs/report/design/detailed-design"}},c={},h=[{value:"Communication patterns",id:"communication-patterns",level:2},{value:"External API patterns",id:"external-api-patterns",level:2},{value:"API Gateway",id:"api-gateway",level:3},{value:"Deployment patterns",id:"deployment-patterns",level:2},{value:"Security patterns",id:"security-patterns",level:2},{value:"Token Authentication",id:"token-authentication",level:3}];function l(e){const t={br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"microservices-patterns",children:"Microservices patterns"})}),"\n",(0,i.jsx)(t.h2,{id:"communication-patterns",children:"Communication patterns"}),"\n",(0,i.jsxs)(t.p,{children:["Having opted for a microservice architecture,\nwhich means that components are intrinsically weakly coupled, it was necessary to reason\nabout ",(0,i.jsx)(t.strong,{children:"inter-process communication"})," modes.\nDepending on the situation, there are the modes of interaction.\nSpecifically,\nif a microservice needs to communicate with another component to retrieve essential information for completing\na business operation, the ",(0,i.jsx)(t.strong,{children:"Remote Procedure Invocation"})," (",(0,i.jsx)(t.em,{children:"request/response"}),") pattern will be preferred.\nIt will therefore be a ",(0,i.jsx)(t.em,{children:"one-to-one"})," communication.\nWhereas, the ",(0,i.jsx)(t.strong,{children:"Asynchronous messaging"})," pattern (",(0,i.jsx)(t.em,{children:"publish/subscribe"}),", ",(0,i.jsx)(t.em,{children:"one-way notifications"}),") will be preferred in situations\nwhere a microservice needs to communicate with other components simply to notify the occurrence of an event, a new state,\nor action taken by a user, etc.",(0,i.jsx)(t.br,{}),"\n","In this case it could be either ",(0,i.jsx)(t.em,{children:"one-to-one"})," or ",(0,i.jsx)(t.em,{children:"one-to-many"})," communication."]}),"\n",(0,i.jsxs)(t.p,{children:["In the case of RPC, the communication will be implemented using the ",(0,i.jsx)(t.strong,{children:"REST"})," mechanism, using the ",(0,i.jsx)(t.em,{children:"HTTP"})," protocol.\nIn the case of asynchronous messaging, the communication will be based on ",(0,i.jsx)(t.strong,{children:"events"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["In both cases, the message format will be ",(0,i.jsx)(t.strong,{children:"text-based"})," such as ",(0,i.jsx)(t.em,{children:"JSON"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"external-api-patterns",children:"External API patterns"}),"\n",(0,i.jsx)(t.h3,{id:"api-gateway",children:"API Gateway"}),"\n",(0,i.jsx)(t.p,{children:"The specific use of the API Gateway pattern will be the one of reverse proxy.\nThis pattern provides a single entry point, a facade, for all clients.\nIt routes requests to the appropriate microservice by encapsulating the service decomposition and APIs.\nClients, rather than calling the services directly, call the API Gateway.\nWhen used in combination with the appropriate deployment platform,\nit provides the opportunity to load balance the requests among the microservices."}),"\n",(0,i.jsx)(t.h2,{id:"deployment-patterns",children:"Deployment patterns"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Service as a container"}),": each microservice is deployed as a container. In this way, the microservices are isolated\nfrom each other, and they can be scaled independently. Container images are lightweight and fast to build and start.\nFor containerization, we used ",(0,i.jsx)(t.strong,{children:"Docker"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Database per service"}),": each microservice has its own database. Services communicate only via APIs favoring a more loosely\ncoupled architecture. This allows having a database schema optimized for the microservice."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Externalized configuration"}),": instead of hard-wiring or hard-coding a configuration for a particular environment in which the system\nwould run, configuration property values are supplied at runtime. We used the ",(0,i.jsx)(t.strong,{children:"Push model"})," approach, where the configuration\nvalues are passed to service using the operating system environment variables or configuration files."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"security-patterns",children:"Security patterns"}),"\n",(0,i.jsx)(t.h3,{id:"token-authentication",children:"Token Authentication"}),"\n",(0,i.jsxs)(t.p,{children:["The system uses token-based authentication. For each request, the client must send a token in the ",(0,i.jsx)(t.em,{children:"Authorization"})," header.\nThe token is generated by the authentication service when the user logs in. The token contains the user's information,\nsuch as the user's id and the user's role. We use the ",(0,i.jsx)(t.strong,{children:"JWT"})," (JSON Web Token) standard to generate the token.\nWhen a request is received, the system verifies the token (which is self-contained) and can extract the user's information from it."]})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var i=n(6540);const r={},s=i.createContext(r);function o(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);